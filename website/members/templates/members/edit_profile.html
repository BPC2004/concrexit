{% extends "base.html" %}
{% load static i18n fieldtype bootstrap4 alert %}

{% block title %}{% trans "edit profile"|capfirst %} — {% trans "members"|capfirst %} — {{ block.super }}{% endblock %}
{% block opengraph_title %}{% trans "edit profile"|capfirst %} — {% trans "members"|capfirst %} —
    {{ block.super }}{% endblock %}

{% block body %}
    <section class="page-section">
        <div class="container">
            <h1 class="text-center section-title">{% trans "edit profile"|capfirst %}</h1>

            {% if saved %}
                {% trans "Your profile has been updated successfully." as success_text %}
                {% alert 'success' success_text dismissable=True %}
            {% endif %}

            {% if form.errors %}
                {% trans "Please check your profile for errors." as error_text %}
                {% alert 'danger' error_text dismissable=True %}
            {% endif %}

            <form method="post" enctype="multipart/form-data" class="col-lg-8 offset-lg-2">
                {% csrf_token %}

                <div class="form-group">
                    <label>{% trans "First Name" %}</label>
                    <input type="text" class="form-control" readonly="readonly"
                           value="{{ request.member.first_name }}"/>
                </div>

                <div class="form-group">
                    <label>{% trans "Last Name" %}</label>
                    <input type="text" class="form-control" readonly="readonly"
                           value="{{ request.member.last_name }}"/>
                </div>

                <div class="form-group">
                    <label>{% trans "Email Address" %}</label>
                    <input type="text" class="form-control" readonly="readonly" value="{{ request.member.email }}"/>
                    <span class="form-text">
                        <a href="{% url 'members:email-change' %}">
                            {% trans "Click here to change your email address." %}
                        </a>
                    </span>
                </div>

                {% for field in form %}
                    {% bootstrap_field field %}
                {% endfor %}

                <input type="submit" value="{% trans 'save'|capfirst %}" class="btn btn-primary float-right"/>
            </form>
        </div>
    </section>
{% endblock %}
