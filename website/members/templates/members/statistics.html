{% extends "base.html" %}
{% load i18n static compress %}

{% block title %}{% trans "Statistics" %} — {{ block.super }}{% endblock %}
{% block opengraph_title %}{% trans "Statistics" %} — {{ block.super }}{% endblock %}

{% block body %}
    <section class="page-section" id="members-statistics" data-statistics="{{ statistics }}">
        <div class="container">
            <h1 class="text-center section-title">{% trans "Statistics" %}</h1>

            <h2 class="text-center mb-4">{% trans "Total amount of Thalia members" %}: {{ total_members }}</h2>

            <div class="row">
                <div class="col-sm-6 col-lg-4">
                    <canvas id="membersTypeChart"></canvas>
                </div>
                <div class="col-sm-6 col-lg-4">
                    <canvas id="totalYearChart"></canvas>
                </div>
                <div class="col-sm-6 col-lg-4">
                    <canvas id="membersYearChart"></canvas>
                </div>
                <div class="col-sm-6 col-lg-4">
                    <canvas id="benefactorsYearChart"></canvas>
                </div>
                <div class="col-sm-6 col-lg-4">
                    <canvas id="pizzaTotalTypeChart"></canvas>
                </div>

                {% if current_pizza_orders != 'null' %} {# None is json-serialized to 'null' #}
                <div class="col-sm-6 col-lg-4">
                        <canvas id="pizzaCurrentTypeChart"></canvas>
                </div>
                {% endif %}
            </div>
        </div>
    </section>
{% endblock %}

{% block js_body %}
    {{ block.super }}
    {% compress js %}
        <script type="text/javascript" src="{% static 'members/js/highcharts.js' %}"></script>
        <script type="text/javascript" src="{% static 'members/js/statistics.js' %}"></script>
    {% endcompress %}
{% endblock %}
